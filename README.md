## Foundry

**Foundry is a blazing fast, portable and modular toolkit for Ethereum application development written in Rust.**

Foundry consists of:

-   **Forge**: Ethereum testing framework (like Truffle, Hardhat and DappTools).
-   **Cast**: Swiss army knife for interacting with EVM smart contracts, sending transactions and getting chain data.
-   **Anvil**: Local Ethereum node, akin to Ganache, Hardhat Network.
-   **Chisel**: Fast, utilitarian, and verbose solidity REPL.

### Transactions

OPOutputLookup: 0xbe54bE8a815740955364d015ED023f63A86c89d0

Deterministic Deployment Proxy: 0x4e59b44847b379578588920ca78fbf26c0b4956c

```
0x00000000000000000000000000000000000000000000000000000000000000006080604052348015600f57600080fd5b506119398061001f6000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063c81263f91161005b578063c81263f914610146578063d1d3ee3614610166578063e2dd1533146101b8578063e4ee14061461021457600080fd5b806311f2454f1461008d5780637a496563146100b6578063bab2c5ef146100d7578063babba784146100f7575b600080fd5b6100a061009b366004611349565b610227565b6040516100ad9190611384565b60405180910390f35b6100c96100c43660046113bb565b610259565b6040516100ad9291906113f0565b6100ea6100e53660046113bb565b61028d565b6040516100ad9190611465565b61010a610105366004611349565b61039d565b6040805194855263ffffffff90931660208501526001600160401b03909116918301919091526001600160a01b031660608201526080016100ad565b61015961015436600461149c565b6103c1565b6040516100ad91906114b9565b6101796101743660046114d9565b6104cd565b6040805195865260208601949094526001600160401b039092169284019290925260608301919091526001600160a01b0316608082015260a0016100ad565b6101cb6101c63660046113bb565b6104f6565b6040805196875260208701959095526001600160401b039093169385019390935260608401526001600160a01b03909116608083015263ffffffff1660a082015260c0016100ad565b61010a610222366004611349565b610520565b604080516060810182526000808252602082018190529181019190915261025085858585610532565b95945050505050565b604080516060810182526000808252602082018190529181018290526102808585856106aa565b915091505b935093915050565b6040805160808101825260008082526020820181905291810182905260608101919091526102ba846103c1565b819060018111156102cd576102cd61142d565b908160018111156102e0576102e061142d565b9052506001815160018111156102f8576102f861142d565b0361032b57600080600061030d8787876104f6565b50506020880193909352506060860152604085015250610396915050565b6000815160018111156103405761034061142d565b0361037d57600080610353868686610259565b6020850191909152805160608501526040908101516001600160801b031690840152506103969050565b604051636dfa9d6760e11b815260040160405180910390fd5b9392505050565b6000806000806103af88888888610878565b929b919a509850909650945050505050565b6000816001600160a01b031663f2b4e6176040518163ffffffff1660e01b8152600401602060405180830381865afa92505050801561041d575060408051601f3d908101601f1916820190925261041a9181019061151f565b60015b1561043c576001600160a01b0381161561043a5750600192915050565b505b816001600160a01b0316639b5f694a6040518163ffffffff1660e01b8152600401602060405180830381865afa925050508015610496575060408051601f3d908101601f191682019092526104939181019061151f565b60015b1561037d576001600160a01b038116156104b35750600092915050565b50604051636dfa9d6760e11b815260040160405180910390fd5b60008060008060006104e189898989610ace565b94509450945094509450945094509450945094565b60008060008060008061050a898989610d5c565b949e939d50919b50995097509095509350505050565b6000806000806103af88888888610deb565b604080516060810182526000808252602082018190529181018290529061055886610eb9565b60405163a25ae55760e01b8152600481018790529091506000906001600160a01b0383169063a25ae55790602401606060405180830381865afa1580156105a3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105c791906115c1565b90508481602001516001600160801b0316426105e3919061163d565b1015610631578581602001516001600160801b031642610603919061163d565b6040516328711f9f60e01b815260048101929092526024820152604481018690526064015b60405180910390fd5b60008411801561065857508381602001516001600160801b031642610656919061163d565b115b156106a0578581602001516001600160801b031642610677919061163d565b60405163107b0e1960e01b81526004810192909252602482015260448101859052606401610628565b9695505050505050565b6040805160608101825260008082526020820181905291810182905260006106d186610eb9565b90506000816001600160a01b03166369f16eec6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610713573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107379190611650565b90506000610745874261163d565b90506000610753874261163d565b9050825b83811161085b5760405163a25ae55760e01b8152600481018290526000906001600160a01b0387169063a25ae55790602401606060405180830381865afa1580156107a6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107ca91906115c1565b90508381602001516001600160801b031611610851578815806107fa57508281602001516001600160801b031610155b1561080e5790965094506102859350505050565b8181602001516001600160801b031642610828919061163d565b60405163107b0e1960e01b815260048101929092526024820152604481018a9052606401610628565b5060001901610757565b5060405163608d976560e11b815260048101899052602401610628565b600080600080600061088989610f64565b604051632ee2a87f60e21b8152600481018a90529091506000906001600160a01b0383169063bb8aa1fc90602401606060405180830381865afa1580156108d4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108f89190611680565b80955081935082975050505061096c836001600160a01b031663bcef3b556040518163ffffffff1660e01b8152600401602060405180830381865afa158015610945573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109699190611650565b90565b95506001600160401b038116935087610985854261163d565b10156109c8578861099f6001600160401b0386164261163d565b6040516366460f9d60e01b81526004810192909252602482015260448101899052606401610628565b6000871180156109e95750866109e76001600160401b0386164261163d565b115b15610a2b5788610a026001600160401b0386164261163d565b604051631fc476cf60e21b81526004810192909252602482015260448101889052606401610628565b6001836001600160a01b031663200d2ed26040518163ffffffff1660e01b8152600401602060405180830381865afa158015610a6b573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a8f91906116c9565b6002811115610aa057610aa061142d565b03610ac1576040516309f9a0e960e41b8152600481018a9052602401610628565b5050945094509450949050565b60008080808080610adf884261163d565b90506000610aec8b610f64565b90506000610afa8284611004565b60405163254bd68360e01b815263ffffffff8d16600482015260248101829052600160448201529091506000906001600160a01b0384169063254bd68390606401600060405180830381865afa158015610b58573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610b8091908101906116ea565b90508051600003610ba75760405163d13b267760e01b8152600481018c9052602401610628565b80600081518110610bba57610bba61189b565b6020026020010151600001519850610bed81600081518110610bde57610bde61189b565b60200260200101516060015190565b9750610c1d81600081518110610c0557610c0561189b565b6020026020010151604001516001600160401b031690565b965060008a118015610c405750610c348a4261163d565b876001600160401b0316105b15610c795788610c508b4261163d565b604051631fc476cf60e21b815260048101929092526024820152604481018b9052606401610628565b604051632ee2a87f60e21b8152600481018a90526001600160a01b0384169063bb8aa1fc90602401606060405180830381865afa158015610cbe573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ce29190611680565b909150905080955050846001600160a01b0316638b85902b6040518163ffffffff1660e01b8152600401602060405180830381865afa925050508015610d45575060408051601f3d908101601f19168201909252610d4291810190611650565b60015b15610d4d5795505b50505050945094509450945094565b600080600080600080886001600160a01b0316633c9f397c6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610da3573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610dc791906118b1565b9050610dd589828a8a610ace565b939d929c50909a50985090965090945092505050565b6000806000806000886001600160a01b0316633c9f397c6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610e31573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e5591906118b1565b9050610e6389898989610878565b9297509095509350915063ffffffff80851690821614610ead576040516323fa115960e21b81526004810189905263ffffffff808316602483015285166044820152606401610628565b50945094509450949050565b6000816001600160a01b0316639b5f694a6040518163ffffffff1660e01b8152600401602060405180830381865afa925050508015610f15575060408051601f3d908101601f19168201909252610f129181019061151f565b60015b610f3257604051638b4df23f60e01b815260040160405180910390fd5b6001600160a01b038116610f5957604051638b4df23f60e01b815260040160405180910390fd5b92915050565b919050565b6000816001600160a01b031663f2b4e6176040518163ffffffff1660e01b8152600401602060405180830381865afa925050508015610fc0575060408051601f3d908101601f19168201909252610fbd9181019061151f565b60015b610fdd57604051635a23942360e11b815260040160405180910390fd5b6001600160a01b038116610f5957604051635a23942360e11b815260040160405180910390fd5b600080600061101385856110fe565b915091505b8082116110f6576000600261102d83856118ce565b61103791906118e1565b604051632ee2a87f60e21b8152600481018290529091506000906001600160a01b0388169063bb8aa1fc90602401606060405180830381865afa158015611082573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906110a69190611680565b5091505060006110bc826001600160401b031690565b905086816001600160401b0316116110e0576110d98360016118ce565b94506110ee565b6110eb60018461163d565b93505b505050611018565b949350505050565b6000806000846001600160a01b0316634d1975b46040518163ffffffff1660e01b8152600401602060405180830381865afa158015611141573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906111659190611650565b905060015b81811161124c5760006001600160a01b03871663bb8aa1fc61118c848661163d565b6040518263ffffffff1660e01b81526004016111aa91815260200190565b606060405180830381865afa1580156111c7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906111eb9190611680565b509150506000611201826001600160401b031690565b905086816001600160401b0316116112425761121d838561163d565b600161122b85821c8761163d565b611235919061163d565b955095505050505061132a565b505060011b61116a565b604051632ee2a87f60e21b8152600060048201819052906001600160a01b0388169063bb8aa1fc90602401606060405180830381865afa158015611294573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906112b89190611680565b5091505060006112ce826001600160401b031690565b905086816001600160401b03161115611307576112eb874261163d565b60405163d13b267760e01b815260040161062891815260200190565b6000600161131785821c8761163d565b611321919061163d565b95509550505050505b9250929050565b6001600160a01b038116811461134657600080fd5b50565b6000806000806080858703121561135f57600080fd5b843561136a81611331565b966020860135965060408601359560600135945092505050565b60608101610f598284805182526001600160801b0360208201511660208301526001600160801b0360408201511660408301525050565b6000806000606084860312156113d057600080fd5b83356113db81611331565b95602085013595506040909401359392505050565b828152608081016103966020830184805182526001600160801b0360208201511660208301526001600160801b0360408201511660408301525050565b634e487b7160e01b600052602160045260246000fd5b6002811061146157634e487b7160e01b600052602160045260246000fd5b9052565b6000608082019050611478828451611443565b60208301516020830152604083015160408301526060830151606083015292915050565b6000602082840312156114ae57600080fd5b813561039681611331565b60208101610f598284611443565b63ffffffff8116811461134657600080fd5b600080600080608085870312156114ef57600080fd5b84356114fa81611331565b9350602085013561150a816114c7565b93969395505050506040820135916060013590565b60006020828403121561153157600080fd5b815161039681611331565b634e487b7160e01b600052604160045260246000fd5b60405160a081016001600160401b03811182821017156115745761157461153c565b60405290565b604051601f8201601f191681016001600160401b03811182821017156115a2576115a261153c565b604052919050565b80516001600160801b0381168114610f5f57600080fd5b600060608284031280156115d457600080fd5b50604051606081016001600160401b03811182821017156115f7576115f761153c565b6040528251815261160a602084016115aa565b602082015261161b604084016115aa565b60408201529392505050565b634e487b7160e01b600052601160045260246000fd5b81810381811115610f5957610f59611627565b60006020828403121561166257600080fd5b5051919050565b80516001600160401b0381168114610f5f57600080fd5b60008060006060848603121561169557600080fd5b83516116a0816114c7565b92506116ae60208501611669565b915060408401516116be81611331565b809150509250925092565b6000602082840312156116db57600080fd5b81516003811061039657600080fd5b6000602082840312156116fc57600080fd5b81516001600160401b0381111561171257600080fd5b8201601f8101841361172357600080fd5b80516001600160401b0381111561173c5761173c61153c565b8060051b61174c6020820161157a565b9182526020818401810192908101908784111561176857600080fd5b6020850192505b838310156118905782516001600160401b0381111561178d57600080fd5b850160a0818a03601f190112156117a357600080fd5b6117ab611552565b60208281015182526040830151908201526117c860608301611669565b60408201526080820151606082015260a08201516001600160401b038111156117f057600080fd5b60208184010192505089601f83011261180857600080fd5b81516001600160401b038111156118215761182161153c565b611834601f8201601f191660200161157a565b8181528b602083860101111561184957600080fd5b60005b828110156118685760208186018101518383018201520161184c565b506000602083830101528060808401525050808452505060208201915060208301925061176f565b979650505050505050565b634e487b7160e01b600052603260045260246000fd5b6000602082840312156118c357600080fd5b8151610396816114c7565b80820180821115610f5957610f59611627565b6000826118fe57634e487b7160e01b600052601260045260246000fd5b50049056fea2646970667358221220468adb150d9b5617df229958f37798125adb5577c73a78b1198f2d28995d87a764736f6c634300081a0033
```

## Documentation

https://book.getfoundry.sh/

## Usage

### Build

```shell
$ forge build
```

### Test

```shell
$ forge test --fork-url [ETH_MAINNET_RPC] --fork-block-number 20470857
```

### Format

```shell
$ forge fmt
```

### Gas Snapshots

```shell
$ forge snapshot
```

### Anvil

```shell
$ anvil
```

### Deploy

```shell
$ source .env && forge script script/Deploy.s.sol:DeployScript --rpc-url $RPC_URL --private-key $PRIVATE_KEY
```

### Verify

```shell
source .env && forge verify-contract 0x475D9dA14FED8081EDbE8017013B59832cE85a35 OPOutputLookup --chain sepolia
```

### Cast

```shell
$ cast <subcommand>
```

### Help

```shell
$ forge --help
$ anvil --help
$ cast --help
```
